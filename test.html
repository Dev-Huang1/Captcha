<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human-Machine Verification</title>
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <meta name="msvalidate.01" content="3D965876D21B64F5D8C49C72B27F4A29" />
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script src="/css/iframe.css"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.16/widget.module.min.js" async defer></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.16/widget.min.js" async defer></script>
    <style>
        .hidden {
            display: none;
        }
        .container {
            text-align: center;
            margin-top: 50px;
        }
        #loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background-color: #3498db;
            z-index: 1000;
            transition: width 2s;
        }
    </style>
</head>
<body>
    <div id="loading-bar"></div>
    
    <div id="verification-container" class="container">
        <h2>Please verify you are human</h2>
        <div class="cf-turnstile" data-sitekey="0x4AAAAAAAdcuiWK4jIId64g" data-callback="onTurnstileSuccess"></div>
        <iframe src="https://test.xyehr.cn/captcha/h-captcha.html"></iframe>
        <div class="g-recaptcha" data-sitekey="6Ld08AMqAAAAAK1Z_yK2Yna6-Ku1KvIHg1aOsB5S" data-callback="onRecaptchaSuccess"></div>
        <div class="frc-captcha" data-sitekey="FCMQT7KCMRL1UH3B" data-callback="onFriendlyCaptchaSuccess"></div>
    </div>
    
    <div id="content-container" class="container hidden">
        <h2>Human-machine Verification Demo</h2>
        <a href="/captcha/air-captcha.html">One Captcha</a>
        <a href="/captcha/turnstile.html">CloudFlare Turnstile</a>
        <a href="/captcha/friendly-captcha.html">Friendly Captcha</a>
        <a href="/captcha/arkose-labs-funcaptcha.html">Arkose Labs FunCAPTCHA</a>
        <a href="/captcha/perimeterx.html">PerimeterX</a>
        <a href="/captcha/recaptcha.html">Google reCAPTCHA</a>
        <a href="/captcha/aws-waf-captcha.html">AWS WAF CAPTCHA</a>
        <a href="/captcha/hcaptcha.html">hCAPTCHA</a>
        <a href="/captcha/mcaptcha.html">mCAPTCHA</a>
        <a href="/captcha/mtcaptcha.html">MTCaptcha</a>
    </div>
    
    <script>
        var turnstileVerified = false;
        var hcaptchaVerified = false;
        var recaptchaVerified = false;
        var friendlyCaptchaVerified = false;

        function onTurnstileSuccess(token) {
            turnstileVerified = true;
            checkAllVerified();
        }

        function onHcaptchaSuccess(token) {
            hcaptchaVerified = true;
            checkAllVerified();
        }

        function onRecaptchaSuccess(token) {
            recaptchaVerified = true;
            checkAllVerified();
        }

        function onFriendlyCaptchaSuccess(solution) {
            friendlyCaptchaVerified = true;
            checkAllVerified();
        }

        function checkAllVerified() {
            if (turnstileVerified && hcaptchaVerified && recaptchaVerified && friendlyCaptchaVerified) {
                document.getElementById('verification-container').classList.add('hidden');
                
                // Show loading bar and start animation
                var loadingBar = document.getElementById('loading-bar');
                loadingBar.style.width = '100%';
                
                // Simulate a loading delay
                setTimeout(function() {
                    document.getElementById('content-container').classList.remove('hidden');
                    loadingBar.style.display = 'none'; // Hide loading bar
                }, 2000); // Adjust the delay time as needed
            }
        }
    </script>
</body>
</html>
