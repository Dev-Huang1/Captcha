<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Human-Machine Verification</title>
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    <meta name="msvalidate.01" content="3D965876D21B64F5D8C49C72B27F4A29" />
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <!-- Yandex.RTB -->
    <script>window.yaContextCb=window.yaContextCb||[]</script>
    <script src="https://yandex.ru/ads/system/context.js" async></script>
    <style>
        .hidden {
            display: none;
        }
        .captcha-container {
            text-align: center;
            margin-top: 50px;
        }
        #loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 2px;
            background-color: #0066ff;
            z-index: 1000;
            transition: width 2s;
        }
    </style>
</head>
<body>
    <div id="loading-bar"></div>
    
    <div id="verification-container" class="captcha-container">
        <h2>Please verify you are human</h2>
        <div class="cf-turnstile" data-sitekey="0x4AAAAAAAdcuiWK4jIId64g" data-callback="onTurnstileSuccess"></div>
    </div>
    
    <div id="content-container" class="container hidden">
        <h2>Human-machine Verification Demo</h2>
        <a href="/captcha/one-captcha">One Captcha</a>
        <a href="/captcha/turnstile">CloudFlare Turnstile</a>
        <a href="/captcha/friendly-captcha">Friendly Captcha</a>
        <a href="/captcha/arkose-labs-funcaptcha">Arkose Labs FunCAPTCHA</a>
        <a href="/captcha/perimeterx">PerimeterX</a>
        <a href="/captcha/recaptcha">Google reCAPTCHA</a>
        <a href="/captcha/aws-waf-captcha">AWS WAF CAPTCHA</a>
        <a href="/captcha/hcaptcha">hCAPTCHA</a>
        <a href="/captcha/mcaptcha">mCAPTCHA</a>
        <a href="/captcha/mtcaptcha">MTCaptcha</a>
    </div>
    
    <script>
        function onTurnstileSuccess(token) {
            // Set a cookie to remember the verification for 30 minutes
            var now = new Date();
            var expiry = new Date(now.getTime() + 30 * 60 * 1000); // 30 minutes
            document.cookie = "verified=true; expires=" + expiry.toUTCString() + "; path=/";

            document.getElementById('verification-container').classList.add('hidden');
            
            // Show loading bar and start animation
            var loadingBar = document.getElementById('loading-bar');
            loadingBar.style.width = '100%';
            
            // Simulate a loading delay
            setTimeout(function() {
                document.getElementById('content-container').classList.remove('hidden');
                loadingBar.style.display = 'none'; // Hide loading bar
            }, 2000); // Adjust the delay time as needed
        }

        // Check if the user is already verified
        function checkVerification() {
            var cookies = document.cookie.split(';').reduce(function(acc, cookie) {
                var [name, value] = cookie.split('=');
                acc[name.trim()] = value;
                return acc;
            }, {});
            if (cookies['verified']) {
                document.getElementById('verification-container').classList.add('hidden');
                document.getElementById('content-container').classList.remove('hidden');
            }
        }

        // Run the check on page load
        window.onload = checkVerification;
    </script>

    <!-- Yandex.RTB R-A-11714884-2 -->
<script>
window.yaContextCb.push(() => {
    Ya.Context.AdvManager.render({
        "blockId": "R-A-11714884-2",
        "type": "fullscreen",
        "platform": "touch"
    })
})
</script>

    <!-- Yandex.RTB R-A-11714884-3 -->
<script>
window.yaContextCb.push(() => {
    Ya.Context.AdvManager.render({
        "blockId": "R-A-11714884-3",
        "type": "floorAd",
        "platform": "touch"
    })
})
</script>
</body>
</html>
